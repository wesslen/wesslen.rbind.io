mutate(District = as.factor(District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
facet_wrap(~District) +
geom_line(aes(type = NULL))
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,27,30,37,39,43,49)) %>%
mutate(District = as.factor(District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
facet_wrap(~District) +
geom_line(aes(type = Party))
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,27,30,37,39,43,49)) %>%
mutate(District = as.factor(District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
facet_wrap(~District)
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = as.factor(District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
facet_wrap(~District)
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018))) %>%
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
facet_wrap(~District)
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
geom_point() +
facet_wrap(~District)
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
geom_point() +
facet_wrap(~District) +
scale_color_manual(c("blue","red"))
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
geom_point() +
facet_wrap(~District) +
scale_fill_manual(c("blue","red"))
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
geom_point() +
facet_wrap(~District) +
scale_color_manual(c("#ffffff","#000000"))
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
geom_point() +
facet_wrap(~District) +
scale_color_manual(values = c("#ffffff","#000000"))
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
geom_point() +
facet_wrap(~District) +
scale_color_manual(values = c("blue","red"))
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
geom_point(size = 2) +
facet_wrap(~District) +
scale_color_manual(values = c("blue","red"))
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
geom_point(size = 1) +
facet_wrap(~District) +
scale_color_manual(values = c("blue","red"))
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
geom_point(size = 1) +
facet_wrap(~District) +
scale_color_manual(values = c("blue","red")) +
scale_linetype_manual(values = NULL)
seq(1,9)
seq(1)
seq(1:2)
?seq
replicate(2, 3)
replicate(2, 4)
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
geom_point(size = 1) +
facet_wrap(~District) +
scale_color_manual(values = c("blue","red")) +
scale_linetype_manual(values = replicate(9, 1))
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
geom_point(size = 1) +
facet_wrap(~District) +
scale_color_manual(values = c("blue","red")) +
scale_linetype_manual(values = replicate(9, 1)) +
theme_bw(legend.position = "none")
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
geom_point(size = 1) +
facet_wrap(~District) +
scale_color_manual(values = c("blue","red")) +
scale_linetype_manual(values = replicate(9, 1)) +
theme(legend.position = "none")
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District, screen_name) %>%
ts_plot("months") +
geom_label(aes(label = screen_name, color = Party)) +
geom_point(size = 1) +
facet_wrap(~District) +
scale_color_manual(values = c("blue","red")) +
scale_linetype_manual(values = replicate(9, 1)) +
theme(legend.position = "none")
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District, screen_name) %>%
ts_plot("months") +
geom_label(aes(label = screen_name, color = Party)) +
geom_point(size = 1) +
facet_wrap(~District) +
scale_color_manual(values = c("blue","red")) +
scale_linetype_manual(values = replicate(9, 1)) +
theme(legend.position = "none")
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District, screen_name) %>%
ts_plot("months")
z <- t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District, screen_name) %>%
ts_plot("months")
View(z)
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District, screen_name)
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District, screen_name) %>%
ts_plot("months") +
geom_label(aes(label = screen_name, color = Party)) +
geom_point(size = 1) +
facet_wrap(~District) +
scale_color_manual(values = c("blue","red")) +
scale_linetype_manual(values = replicate(9, 1)) +
theme(legend.position = "none")
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District, Name) %>%
ts_plot("months") +
geom_label(aes(label = Name, color = Party)) +
geom_point(size = 1) +
facet_wrap(~District) +
scale_color_manual(values = c("blue","red")) +
scale_linetype_manual(values = replicate(9, 1)) +
theme(legend.position = "none")
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
geom_point(size = 1) +
facet_wrap(~District) +
scale_color_manual(values = c("blue","red")) +
scale_linetype_manual(values = replicate(9, 1)) +
theme(legend.position = "none")
blogdown:::serve_site()
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
geom_point(size = 1) +
facet_wrap(~District) +
scale_color_manual(values = c("blue","red")) +
scale_linetype_manual(values = replicate(9, 1)) +
theme(legend.position = "none") +
labs(x = "Time", y = "Tweet Count", title = "Tweets by NCGA Senate Candidats")
t %>%
group_by(Party) %>%
ts_plot("months") +
scale_color_manual(values = c("blue","red")) +
labs(x = "Time", y = "Tweet Count", title = "Tweets by NCGA Senate Candidats") +
theme(legend.position = c(0.3,0.8))
blogdown:::serve_site()
blogdown:::serve_site()
knitr::opts_chunk$set(collapse = TRUE)
library(tidyverse)
load("./data/ncga-senate-102018.RData")
df$screen_name <- df$twitterUsername
t <- tweets %>%
select(created_at, text, screen_name, retweet_count) %>%
left_join(df[,c(1:7,18)], c("screen_name"))
t <- filter(t, !is.na(Party)) %>%
filter(Incumbent != "Not Running")
library(rtweet)
ts_plot(t, by = "months") +
labs(x = "Time", y = "Tweet Count", title = "Tweets by NCGA Senate Candidates")
t %>%
group_by(Party) %>%
ts_plot("months") +
scale_color_manual(values = c("blue","red")) +
labs(x = "Time", y = "Tweet Count", title = " ") +
theme(legend.position = c(0.3,0.8))
t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
filter(District2018 %in% c(13,14,19,22,30,37,39,43,49)) %>%
mutate(District = paste0("District ",District2018)) %>%
group_by(Party, District) %>%
ts_plot("months") +
geom_point(size = 1) +
facet_wrap(~District) +
scale_color_manual(values = c("blue","red")) +
scale_linetype_manual(values = replicate(9, 1)) +
theme(legend.position = "none") +
labs(x = "Time", y = "Tweet Count", title = " ")
library(dygraphs)
counts <- t %>%
mutate(Date = as.Date(postedTime)) %>%
group_by(Date, Party) %>%
summarise(Count = n()) %>%
ungroup() %>%
spread(geo.type, Count, fill = 0, convert = T)
counts <- t %>%
mutate(Date = as.Date(created_at)) %>%
group_by(Date, Party) %>%
summarise(Count = n()) %>%
ungroup() %>%
spread(geo.type, Count, fill = 0, convert = T)
counts <- t %>%
mutate(Date = as.Date(created_at)) %>%
group_by(Date, Party) %>%
summarise(Count = n()) %>%
ungroup() %>%
spread(Party, Count, fill = 0, convert = T)
dailyCounts <- xts(
x = counts[,-1],
order.by = counts$Date
)
library(dygraphs); library(xts)
dailyCounts <- xts(
x = counts[,-1],
order.by = counts$Date
)
# can convert to weekly, monthly, yearly, etc
weeklyCounts <- apply.weekly(dailyCounts, colSums)
dygraph(dailyCounts, main = "Charlotte Geo-located Tweets") %>%
dyRangeSelector() %>%
dyEvent("2016-02-08", "Super Bowl") %>%
dyEvent("2016-01-25", "NFC Championship")
library(dygraphs); library(xts)
counts <- t %>%
filter(created_at > "2018-01-01 00:00:00") %>%
mutate(Date = as.Date(created_at)) %>%
group_by(Date, Party) %>%
summarise(Count = n()) %>%
ungroup() %>%
spread(Party, Count, fill = 0, convert = T)
dailyCounts <- xts(
x = counts[,-1],
order.by = counts$Date
)
# can convert to weekly, monthly, yearly, etc
weeklyCounts <- apply.monthly(dailyCounts, colSums)
dygraph(dailyCounts, main = "Charlotte Geo-located Tweets") %>%
dyRangeSelector() %>%
dyEvent("2016-02-08", "Super Bowl") %>%
dyEvent("2016-01-25", "NFC Championship")
dygraph(dailyCounts, main = "Charlotte Geo-located Tweets") %>%
dyRangeSelector() %>%
dyEvent("2018-02-08", "Super Bowl") %>%
dyEvent("2018-01-25", "NFC Championship")
dygraph(weeklyCounts, main = "Charlotte Geo-located Tweets") %>%
dyRangeSelector() %>%
dyEvent("2018-02-08", "Super Bowl") %>%
dyEvent("2018-01-25", "NFC Championship")
# can convert to weekly, monthly, yearly, etc
weeklyCounts <- apply.weekly(dailyCounts, colSums)
dygraph(weeklyCounts, main = "Charlotte Geo-located Tweets") %>%
dyRangeSelector() %>%
dyEvent("2018-02-08", "Super Bowl") %>%
dyEvent("2018-01-25", "NFC Championship")
dygraph(dailyCounts, main = "Charlotte Geo-located Tweets") %>%
dyRangeSelector() %>%
dyEvent("2018-02-08", "Super Bowl") %>%
dyEvent("2018-01-25", "NFC Championship")
?dygraph
dygraph(dailyCounts, main = "Charlotte Geo-located Tweets") %>%
dyRangeSelector() %>%
dyEvent("2018-02-08", "Super Bowl") %>%
dyEvent("2018-01-25", "NFC Championship") %>%
dyRoller()
dygraph(dailyCounts, main = "Charlotte Geo-located Tweets") %>%
dyRangeSelector() %>%
dyEvent("2018-05-08", "Primary Election") %>%
dyRoller(rollPeriod = 7)
dygraph(dailyCounts, main = "NCGA Senate Candidates Tweets") %>%
dyRangeSelector() %>%
dyEvent("2018-05-08", "Primary Election") %>%
dyRoller(rollPeriod = 7)
dygraph(dailyCounts, main = "NCGA Senate Candidates Tweets") %>%
dyRangeSelector() %>%
dyEvent("2018-05-08", "Primary Election") %>%
dyRoller(rollPeriod = 7) %>%
dyShading(from = "2018-09-24", to = "2018-09-28") %>%
dyShading(from = "2018-10-04", to = "2018-10-08")
dygraph(dailyCounts, main = "NCGA Senate Candidates Tweets") %>%
dyRangeSelector() %>%
dyEvent("2018-05-08", "Primary Election") %>%
dyRoller(rollPeriod = 7) %>%
dyShading(from = "2018-09-24", to = "2018-09-28") %>%
dyShading(from = "2018-10-04", to = "2018-10-08") %>%
dyOptions(colors = c("blue","red"))
devtools::install_github("ramnathv/rChartsCalmap")
seq(10, 50, 10)
knitr::opts_chunk$set(collapse = TRUE, message=FALSE)
library(tidyverse)
load("./data/ncga-senate-102018.RData")
df$screen_name <- df$twitterUsername
t <- tweets %>%
select(created_at, text, screen_name, retweet_count) %>%
left_join(df[,c(1:7,18)], c("screen_name"))
t <- filter(t, !is.na(Party)) %>%
filter(Incumbent != "Not Running")
library(rChartsCalmap)
r1 <- calheatmap(x = 'Date', y = 'Democratic',
data = counts,
domain = 'month',
start = "2018-01-01",
legend = seq(10, 50, 10),
itemName = 'point',
range = 7
)
library(rChartsCalmap)
r1 <- calheatmap(x = 'Date', y = 'Democratic',
data = counts,
domain = 'month',
start = "2018-01-01",
legend = seq(10, 50, 10),
itemName = 'point',
range = 7
)
r1
?calheatmap
?calheatmap
??calheatmap
?rChartsCalmap
?rChartsCalmap::calheatmap()
library(rChartsCalmap)
calheatmap(x = 'Date', y = 'Democratic',
data = counts,
domain = 'month',
start = "2018-01-01",
legend = seq(10, 50, 10),
itemName = 'point',
range = 7
) %>%
colours = list(min = "#D8D8D8", max = "#D9220F")
calheatmap(x = 'Date', y = 'Democratic',
data = counts,
domain = 'month',
start = "2018-01-01",
legend = seq(10, 50, 10),
itemName = 'point',
range = 7) %>%
colours = list(min = "#D8D8D8", max = "#D9220F")
calheatmap(x = 'Date', y = 'Democratic',
data = counts,
domain = 'month',
start = "2018-01-01",
legend = seq(10, 50, 10),
itemName = 'point',
range = 7) %>%
chLegend(colours = list(min = "#D8D8D8", max = "#D9220F"))
install.packages('calheatmapR')
devtools::install_github(repo = "durtal/calheatmapR")
calheatmapR::calheatmapR(x = 'Date', y = 'Democratic',
data = counts,
domain = 'month',
start = "2018-01-01",
legend = seq(10, 50, 10),
itemName = 'point',
range = 7) %>%
chLegend(colours = list(min = "#D8D8D8", max = "#D9220F"))
calheatmapR::calheatmapR(x = 'Date', y = 'Democratic',
data = counts) %>%
chDomain(  domain = 'month', start = "2018-01-01",
legend = seq(10, 50, 10),
itemName = 'point',
range = 7) %>%
chLegend(colours = list(min = "#D8D8D8", max = "#D9220F"))
calheatmapR::calheatmapR(data = counts) %>%
chDomain(  domain = 'month', start = "2018-01-01",
legend = seq(10, 50, 10),
itemName = 'point',
range = 7) %>%
chLegend(colours = list(min = "#D8D8D8", max = "#D9220F"))
library(calheatmapR)
calheatmapR(data = counts) %>%
chDomain(  domain = 'month', start = "2018-01-01",
legend = seq(10, 50, 10),
itemName = 'point',
range = 7) %>%
chLegend(colours = list(min = "#D8D8D8", max = "#D9220F"))
calheatmapR(data = counts) %>%
chDomain(  domain = 'month', start = "2018-01-01",
itemName = 'point',
range = 7) %>%
chLegend(legend = seq(10, 50, 10),
colours = list(min = "#D8D8D8", max = "#D9220F"))
calheatmapR(data = counts) %>%
chDomain(  domain = 'month', start = "2018-01-01",
range = 7) %>%
chLegend(legend = seq(10, 50, 10),
colours = list(min = "#D8D8D8", max = "#D9220F"))
counts %>%
rename(origin = Date) %>%
calheatmapR() %>%
chDomain(  domain = 'month', start = "2018-01-01",
range = 7) %>%
chLegend(legend = seq(10, 50, 10),
colours = list(min = "#D8D8D8", max = "#D9220F"))
df %>%
rename(origin = created_at) %>%
select(origin) %>%
calheatmapR() %>%
chDomain(  domain = 'month', start = "2018-01-01",
range = 7) %>%
chLegend(legend = seq(10, 50, 10),
colours = list(min = "#D8D8D8", max = "#D9220F"))
t %>%
rename(origin = created_at) %>%
select(origin) %>%
calheatmapR() %>%
chDomain(  domain = 'month', start = "2018-01-01",
range = 7) %>%
chLegend(legend = seq(10, 50, 10),
colours = list(min = "#D8D8D8", max = "#D9220F"))
calheatmapR(t$created_at) %>%
chDomain(  domain = 'month', start = "2018-01-01",
range = 7) %>%
chLegend(legend = seq(10, 50, 10),
colours = list(min = "#D8D8D8", max = "#D9220F"))
